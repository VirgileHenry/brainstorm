#[derive(idris_derive::Idris)]
#[idris(repr = usize)]
#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub enum PlayerAction {
    Add,
    Attach,
    Attack,
    Cast,
    Change,
    Choose,
    Create,
    Destroy,
    Discard,
    Distribute,
    Double,
    Draw,
    Exile,
    Gain, /* Fixme: out of place, and need different tense forms */
    LookAt,
    Lose,
    Pay,
    Play,
    Prevent,
    Put,
    Return,
    Remove,
    Sacrifice,
    Scry,
    Search,
    Shuffle,
    Spend,
    Tap,
    Untap,
}

impl PlayerAction {
    pub fn try_from_str(source: &str) -> Option<Self> {
        match source {
            "add" | "adds" => Some(Self::Add),
            "attach" | "attaches" => Some(Self::Attach),
            "attack" | "attacks" | "attacked" => Some(Self::Attack),
            "cast" | "casts" => Some(Self::Cast),
            "change" | "changes" => Some(Self::Change),
            "choose" | "chooses" | "choice" => Some(Self::Choose),
            "create" | "creates" => Some(Self::Create),
            "destroy" | "destroys" => Some(Self::Destroy),
            "discard" | "discards" => Some(Self::Discard),
            "distribute" => Some(Self::Discard),
            "double" | "doubles" => Some(Self::Double),
            "draw" | "draws" => Some(Self::Draw),
            "exile" | "exiles" => Some(Self::Exile),
            "gain" | "gains" | "gained" => Some(Self::Gain),
            "look at" | "looks at" => Some(Self::LookAt),
            "lose" | "loses" => Some(Self::LookAt),
            "pay" | "pays" | "paying" => Some(Self::Pay),
            "prevent" | "prevented" => Some(Self::Prevent),
            "play" | "plays" => Some(Self::Play),
            "put" | "puts" => Some(Self::Play),
            "return" | "returns" => Some(Self::Return),
            "remove" | "removing" => Some(Self::Remove),
            "sacrifice" | "sacrifices" => Some(Self::Sacrifice),
            "scry" | "scrys" => Some(Self::Scry),
            "search" | "searchs" => Some(Self::Search),
            "shuffle" | "shuffles" => Some(Self::Shuffle),
            "spend" | "spends" => Some(Self::Spend),
            "tap" | "taps" => Some(Self::Tap),
            "untap" | "untaps" => Some(Self::Untap),
            _ => None,
        }
    }
}
